---
export async function getStaticPaths() {
   return [
      { params: { category: "ai" } },
      { params: { category: "apis" } },
      { params: { category: "html" } },
      { params: { category: "css" } },
      { params: { category: "ui" } },
      { params: { category: "react" } },
      { params: { category: "ideas" } },
      { params: { category: "tools" } },
      { params: { category: "javascript" } },
      { params: { category: "interviews" } },
      { params: { category: "challenges" } },
      { params: { category: "learning" } },
      { params: { category: "cheatsheets" } },
      { params: { category: "jobs" } },
      { params: { category: "icons" } },
      { params: { category: "nextjs" } },
      { params: { category: "images" } },
   ];
}
import Layout from "../../layouts/Layout.astro";
import Card from "../../components/Card.astro";
import CategoryTitle from "../../components/CategoryTitle.astro";

const { category } = Astro.params as { category: keyof typeof titleMap };

let items: any[] = [];

switch (category) {
   case "ai":
      items = Object.values(import.meta.glob("../../../content/ai/*.md", { eager: true }));
      break;
   case "apis":
      items = Object.values(import.meta.glob("../../../content/apis/*.md", { eager: true }));
      break;
   case "html":
      items = Object.values(import.meta.glob("../../../content/html/*.md", { eager: true }));
      break;
   case "css":
      items = Object.values(import.meta.glob("../../../content/css/*.md", { eager: true }));
      break;
   case "ui":
      items = Object.values(import.meta.glob("../../../content/ui-stuff/*.md", { eager: true }));
      break;
   case "react":
      items = Object.values(import.meta.glob("../../../content/react/*.md", { eager: true }));
      break;
   case "ideas":
      items = Object.values(import.meta.glob("../../../content/ideas/*.md", { eager: true }));
      break;
   case "tools":
      items = Object.values(import.meta.glob("../../../content/tools/*.md", { eager: true }));
      break;
   case "javascript":
      items = Object.values(import.meta.glob("../../../content/javascript/*.md", { eager: true }));
      break;
   case "interviews":
      items = Object.values(import.meta.glob("../../../content/interviews/*.md", { eager: true }));
      break;
   case "challenges":
      items = Object.values(import.meta.glob("../../../content/challenges/*.md", { eager: true }));
      break;
   case "learning":
      items = Object.values(import.meta.glob("../../../content/learning/*.md", { eager: true }));
      break;
   case "cheatsheets":
      items = Object.values(import.meta.glob("../../../content/cheatsheets/*.md", { eager: true }));
      break;
   case "jobs":
      items = Object.values(import.meta.glob("../../../content/jobs/*.md", { eager: true }));
      break;
   case "icons":
      items = Object.values(import.meta.glob("../../../content/icons/*.md", { eager: true }));
      break;
   case "nextjs":
      items = Object.values(import.meta.glob("../../../content/nextjs/*.md", { eager: true }));
      break;
   case "images":
      items = Object.values(import.meta.glob("../../../content/images-stuff/*.md", { eager: true }));
      break;
   default:
      items = [];
}

const titleMap = {
   ai: "AI Resources",
   apis: "API Resources",
   html: "HTML Resources",
   css: "CSS Resources",
   ui: "UI Resources",
   react: "React Resources",
   ideas: "Ideas Resources",
   tools: "Tools Resources",
   javascript: "JavaScript Resources",
   interviews: "Interviews Resources",
   challenges: "Challenges Resources",
   learning: "Learning Resources",
   cheatsheets: "Cheatsheets Resources",
   jobs: "Jobs Resources",
   icons: "Icons Resources",
   nextjs: "Next.js Resources",
   images: "Images Resources",
};

const title = titleMap[category] || "Resources";
---

<Layout title={title}>
   <main>
      <CategoryTitle title={title} />
      <ul
         class="flex flex-row flex-wrap gap-2 justify-center"
         transition:name="list"
      >
         {
            items.map((item) => (
               <Card
                  title={item.frontmatter.title}
                  description={item.frontmatter.description}
                  link={item.frontmatter.link}
                  image={
                     item.frontmatter.imageURL !== undefined
                        ? item.frontmatter.imageURL
                        : "https://res.cloudinary.com/dc6mrv5cb/image/upload/v1723451406/personal-resources/6894461_xudyti.jpg"
                  }
               />
            ))
         }
      </ul>
   </main>
</Layout>
